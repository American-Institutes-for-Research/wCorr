<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation coefficients — weightedCorr • wCorr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation coefficients — weightedCorr" />
<meta property="og:description" content="Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation
coefficients in weighted or unweighted form, on discrete or continuous variables. Also 
calculates tetrachoric and biserial correlation coefficients as described below." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wCorr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/wCorrArguments.html">wCorr Arguments</a>
    </li>
    <li>
      <a href="../articles/wCorrFormulas.html">wCorr Formulas</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/American-Institutes-for-Research/wCorr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation coefficients</h1>
    <small class="dont-index">Source: <a href='https://github.com/American-Institutes-for-Research/wCorr/blob/master/R/weightedCorr.R'><code>R/weightedCorr.R</code></a></small>
    <div class="hidden name"><code>weightedCorr.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates bivariate Pearson, Spearman, polychoric, and polyserial correlation
coefficients in weighted or unweighted form, on discrete or continuous variables. Also 
calculates tetrachoric and biserial correlation coefficients as described below.</p>
    </div>

    <pre class="usage"><span class='fu'>weightedCorr</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>y</span>,
  method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Pearson"</span>, <span class='st'>"Spearman"</span>, <span class='st'>"Polyserial"</span>, <span class='st'>"Polychoric"</span><span class='op'>)</span>,
  weights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span>,
  ML <span class='op'>=</span> <span class='cn'>FALSE</span>,
  fast <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a numeric (or numeric factor in case of polychoric) vector or an object that can be
coerced to a numeric or factor vector.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>a numeric vector (or factor in case of polychoric and polyserial) or an object that
can be coerced to a numeric or factor vector.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>a character string indicating which correlation coefficient is
to be computed. These include "Pearson" (default), "Spearman", "Polychoric", or "Polyserial".
For tetrachoric use "Polychoric" and for biserial use "Polyserial".</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>a numeric vector of weights. By default, the unweighted correlation coefficient is calculated
by setting the weights to a vector of all 1s.</p></td>
    </tr>
    <tr>
      <th>ML</th>
      <td><p>a Boolean value indicating if full Maximum Likelihood (ML) is to be used (polyserial and polychoric only,
has no effect on Pearson or Spearman results). This substantially increases the
compute time. See the 'wCorr Arguments' vignette for a description of the effect of this argument.</p></td>
    </tr>
    <tr>
      <th>fast</th>
      <td><p>a Boolean value indicating if the Rcpp methods should be used. Setting this value to FALSE
uses the pure R implementation and is included primarily for comparing the implementations
to each other. See the 'wCorr Arguments' vignette for a description of the effect of this argument.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A scalar that is the estimated correlation.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>In case of polyserial, x must be the observed ordinal variable, and y the observed continuous variable. For
polychoric, both must be categorical. The correlation methods are calculated as described in the 'wCorr Formulas'
vignette.</p>
<p>For Spearman the data is first ranked and then a Pearson type correlation coefficient is calculated on
the result. The ranking method gives averages for ties.</p>
<p>The details of computation are given in the 'wCorr Formulas' vignette.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Polyserial computation based on the likelihood function in Cox, N. R. (1974), "Estimation of the Correlation between a Continuous and a Discrete Variable." Biometrics, 30 (1), pp 171-178.</p>
<p>Polychoric computation based on the likelihood function in Olsson, U. (1979) "Maximum Likelihood Estimation of the Polychoric Correlation Coefficient." Psyhometrika, 44 (4), pp 443-460.</p>
<p>The weighted Pearson formula appears in many places, including the "correlate" function in Stata Corp, Stata Statistical Software: Release 8. College Station, TX: Stata Corp LP, 2003.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/stats/cor.html'>cor</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># run a polyserial correlation</span>
<span class='kw'><a href='https://rdrr.io/r/base/attach.html'>attach</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>)</span>
<span class='fu'>weightedCorr</span><span class='op'>(</span><span class='va'>gear</span>, x<span class='op'>=</span><span class='va'>cyl</span>, method<span class='op'>=</span><span class='st'>"polyserial"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] -0.5420413</div><div class='input'><span class='co'># weight by MPG</span>
<span class='fu'>weightedCorr</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>gear</span>, x<span class='op'>=</span><span class='va'>cyl</span>, method<span class='op'>=</span><span class='st'>"polyserial"</span>, weights<span class='op'>=</span><span class='va'>mpg</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] -0.5549905</div><div class='input'><span class='co'># unweight</span>
<span class='fu'>weightedCorr</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>gear</span>, x<span class='op'>=</span><span class='va'>cyl</span>, method<span class='op'>=</span><span class='st'>"polyserial"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] -0.5420413</div><div class='input'>
<span class='co'># run a polychoric correlation</span>
<span class='fu'>weightedCorr</span><span class='op'>(</span><span class='va'>gear</span>, x<span class='op'>=</span><span class='va'>cyl</span>, method<span class='op'>=</span><span class='st'>"polychoric"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] -0.6188992</div><div class='input'><span class='co'># weight by MPG</span>
<span class='fu'>weightedCorr</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>gear</span>, x<span class='op'>=</span><span class='va'>cyl</span>, method<span class='op'>=</span><span class='st'>"polychoric"</span>, weights<span class='op'>=</span><span class='va'>mpg</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] -0.6103001</div><div class='input'><span class='co'># unwiehgted</span>
<span class='fu'>weightedCorr</span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>gear</span>, x<span class='op'>=</span><span class='va'>cyl</span>, method<span class='op'>=</span><span class='st'>"polychoric"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] -0.6188992</div><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/detach.html'>detach</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>)</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Emmanuel Sikali, Ahmad Emad, Paul Bailey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


